name: Build LLVM Linux Toolchain

on:
  workflow_dispatch:

jobs:
  build-llvm:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Build
        run: echo ${{ github.sha }} > Release.txt
      - name: Test
        run: cat Release.txt
      - name: Create GitHub Release
        uses: softprops/action-gh-release@v2
        with:
          tag_name: ${{ format('linux-llvm-{0}', github.run_id) }}
          name: "LLVM LLC Tool (Minimal Build)"
          body: |
            Binario **llc** compilado en modo mínimo.
            - Versión: LLVM 17.0.6
            - Sistema: Ubuntu Linux
            - Compilador: Clang/GCC (auto-detectado)
          files: |
            build/bin/llc
            LICENSE.txt
          draft: false       # Release público
          prerelease: false  # No es una versión preliminar
